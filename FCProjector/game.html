<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Gardien</title>
<style>
    body {
        margin: 0;
        overflow: hidden;
        background: #000;
    }

    /* Cage de foot */
    #goal {
        position: absolute;
        width: 100vw;
        height: 100vh;
        object-fit: cover;
        top: 0;
        left: 0;
        z-index: 1;
    }

    /* Gardien */
    #gk {
        position: absolute;
        bottom: 3vh;
        left: 50%;
        transform: translateX(-50%);
        height: 70vh;
        z-index: 2;
        transition: transform 0.5s ease;
    }

    /* TIMER ÉPIQUE */
    #timer {
        position: absolute;
        bottom: 75vh; /* JUSTE au dessus du gardien */
        left: 50%;
        transform: translateX(-50%);
        font-size: 7rem;
        font-family: Impact, Arial Black, sans-serif;
        color: black;
        text-shadow: 0 0 20px white;
        z-index: 5;
        animation: none;
    }

    /* ANIMATION changement de chiffre */
    @keyframes pop {
        0% { transform: translateX(-50%) scale(1); }
        40% { transform: translateX(-50%) scale(1.35); }
        100% { transform: translateX(-50%) scale(1); }
    }

    /* ANIMATION saut */
    @keyframes jump {
        0% { transform: translateX(-50%) translateY(0); }
        50% { transform: translateX(-50%) translateY(-20px); }
        100% { transform: translateX(-50%) translateY(0); }
    }
</style>
</head>
<body>

<img id="goal" src="Goal.png">
<img id="gk" src="GK.png">
<div id="timer">10</div>

<script>
    let timer = 10;
    let countdown;
    const timerDiv = document.getElementById("timer");
    const gk = document.getElementById("gk");

    function animateTimer() {
        timerDiv.style.animation = "none";
        void timerDiv.offsetWidth; // reset animation
        timerDiv.style.animation = "pop 0.3s ease";
    }

    function startGame() {
        timer = 10;
        timerDiv.textContent = timer;

        animateTimer();

        countdown = setInterval(() => {
            timer--;
            timerDiv.textContent = timer;
            animateTimer(); // animation à chaque changement

            if (timer === 0) {
                clearInterval(countdown);
                makeGKMove();
            }
        }, 1000);
    }

    function makeGKMove() {
        const random = Math.floor(Math.random() * 3);

        if (random === 0) {
            gk.src = "GKplonge.png";
            gk.style.animation = "none";
            gk.style.height = "70vh";
            gk.style.transform = "translateX(-50%) translateX(-150px)";
        }
        else if (random === 2) {
            gk.src = "GKplonge.png";
            gk.style.animation = "none";
            gk.style.height = "70vh";
            gk.style.transform = "translateX(-50%) translateX(150px)";
        }
        else {
            gk.src = "GKfixe.png";
            gk.style.animation = "jump 0.5s ease";
            gk.style.height = "75vh";
            gk.style.transform = "translateX(-50%)";
        }

        setTimeout(() => {
            resetGK();
        }, 1500);
    }

    function resetGK() {
        gk.src = "GK.png";
        gk.style.height = "70vh";
        gk.style.animation = "none";
        gk.style.transform = "translateX(-50%)";

        setTimeout(() => {
            startGame();
        }, 1000);
    }

    startGame();
</script>

</body>
</html>
